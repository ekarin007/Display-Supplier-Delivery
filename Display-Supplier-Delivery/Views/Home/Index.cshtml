@model IEnumerable<ReceivingItemVM>

<style>
    body {
        background-color: #0e1621;
        color: white;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        overflow-x: hidden; /* Prevent horizontal scroll */
    }

    /* Header Section */
    .dashboard-header {
        background-color: #203354; /* Dark Blue */
        color: white;
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 1.2rem;
        font-weight: bold;
        border-bottom: 1px solid #4a5d75;
    }

    .dashboard-title {
        font-size: 1.5rem;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .clock-display {
        color: #00ff00; /* Bright green for time */
        font-family: 'Consolas', monospace;
        font-size: 1.5rem;
    }

    /* Sub-Header Section */
    .sub-header {
        background-color: #2b4475; /* Slightly lighter blue */
        color: white;
        padding: 8px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: bold;
        font-size: 1rem;
        text-transform: uppercase;
    }

    /* Table Section */
    .table-container {
        padding: 0;
        margin: 0;
    }

    .custom-table {
        width: 100%;
        border-collapse: collapse;
        background-color: #0e1621;
        color: #e0e0e0;
        font-size: 0.9rem;
    }

    .custom-table th {
        background-color: #004d40; /* Dark Teal/Green */
        color: white;
        padding: 12px 8px;
        text-align: center;
        border: 1px solid #2c3e50;
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.85rem;
    }

    .custom-table td {
        padding: 10px 8px;
        text-align: center;
        border: 1px solid #2c3e50; /* Dark border */
        vertical-align: middle;
    }

    /* Row striping or hover effects if needed, but design looks flat dark */
    .custom-table tr:nth-child(even) {
        background-color: #131d2b;
    }

    /* Status Styles */
    .status-on-plan {
        color: #00ff00; /* Green text */
        font-weight: bold;
    }

    .status-delay {
        background-color: #8b0000; /* Dark Red background */
        color: white;
        font-weight: bold;
        border: 1px solid #ff4444; /* Lighter red border */
    }

    /* Footer Summary Section */
    .footer-summary {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        display: flex;
        background-color: #004d40; /* Dark Green */
        color: white;
        text-align: center;
        font-weight: bold;
        font-size: 1rem;
        z-index: 100;
    }

    .summary-item {
        flex: 1;
        padding: 15px 10px;
        border-right: 1px solid #2c3e50;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .summary-item:last-child {
        border-right: none;
    }

    .summary-label {
        font-size: 0.8rem;
        margin-bottom: 5px;
        opacity: 0.8;
        text-transform: uppercase;
    }

    .summary-value {
        font-size: 1.2rem;
    }

    .summary-delay {
        background-color: #e67e22; /* Orange */
        color: white;
    }

    /* Utility */
    .text-uppercase { text-transform: uppercase; }
</style>

<!-- Header -->
<div class="dashboard-header">
    <div>@DateTime.Now.ToString("d MMMM, yyyy")</div>
    <div class="dashboard-title">SHIPPING TIME CHART</div>
    <div class="clock-display" id="clock">@DateTime.Now.ToString("HH:mm:ss")</div>
</div>

<!-- Sub-Header -->
<div class="sub-header">
    <div>RAW MATERIAL RECEIVING LIST</div>
    <div>14:00 - 14:30</div>
</div>

<!-- Table -->
<div class="table-container">
    <table class="custom-table">
        <thead>
            <tr>
                <th>ITEMS</th>
                <th>SUPPLIER</th>
                <th>TIME</th>
                <th>VOLUME (PN)</th>
                <th>VOLUME (PC)</th>
                <th>STATUS</th>
                <th>MATERIAL STATUS</th>
                <th>RECEIVER</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr onclick="window.location.href='@Url.Action("Details", "Home")'" style="cursor: pointer;">
                    <td>@item.ItemNo</td>
                    <td>@item.Supplier</td>
                    <td>@item.Time</td>
                    <td>@item.VolumePN</td>
                    <td>@item.VolumePC</td>
                    
                    @if (true) /* Logic for status - assuming ON PLAN for now as per previous code, or check item.Status if available */
                    {
                         /* Previous code hardcoded ON PLAN. I will keep it but add logic if I could see the model. 
                            The user said "don't touch variables", so I'll stick to the previous loop structure but apply new classes.
                            However, the previous code had a specific hardcoded "DELAY" row in the screenshot? 
                            No, the screenshot shows data. The code had:
                            <td style="width:10%" id="status-onplan">ON PLAN</td>
                         */
                        <td class="status-on-plan">ON PLAN</td>
                    }
                    else
                    {
                        <td class="status-delay">DELAY</td>
                    }

                    <td>ส่งวัตถุดิบครบ</td>
                    <td>นายสมชาย ใจดี</td>
                </tr>
            }
            <!-- Example row for DELAY styling visualization (Optional, can be removed if strictly using Model) -->
            <!-- 
            <tr>
                <td>9</td>
                <td>TMK</td>
                <td>No round</td>
                <td>2</td>
                <td>26500</td>
                <td class="status-delay">DELAY</td>
                <td>ส่งวัตถุดิบครบ</td>
                <td>นายสมชาย ใจดี</td>
            </tr>
            -->
        </tbody>
    </table>
</div>

<!-- Footer Summary -->
<div class="footer-summary">
    <div class="summary-item">
        <span class="summary-label">PLAN</span>
        <span class="summary-value">16</span>
    </div>
    <div class="summary-item">
        <span class="summary-label">ON PLAN</span>
        <span class="summary-value">12</span>
    </div>
    <div class="summary-item summary-delay">
        <span class="summary-label">DELAY</span>
        <span class="summary-value">1</span>
    </div>
    <div class="summary-item">
        <span class="summary-label">TOTAL QTY (PN)</span>
        <span class="summary-value">106</span>
    </div>
    <div class="summary-item">
        <span class="summary-label">TOTAL QTY (PC)</span>
        <span class="summary-value">140,579</span>
    </div>
</div>

@section scripts {
    <script>
        // Digital clock
        setInterval(() => {
            const now = new Date();
            document.getElementById("clock").innerText = now.toLocaleTimeString('en-GB', { hour12: false });
        }, 1000);
    </script>
}
